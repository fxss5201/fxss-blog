import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a as r,o as i}from"./app-BOeJNwf3.js";const a={};function p(s,e){return i(),o("div",null,[...e[0]||(e[0]=[r('<p>在小程序后台 -》开发管理 -》运维中心 -》 错误日志 中可以看到小程序运行中的报错信息，但是代码都是压缩混淆的，那就需要如何去定位，下面说明说如使用微信开发者工具 Source Map。</p><ol><li>下载微信开发者工具</li></ol><p><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" target="_blank" rel="noopener noreferrer">微信开发者工具</a></p><ol start="2"><li>下载sourceMap文件</li></ol><p>在小程序后台 -》开发管理 -》运维中心 -》错误日志 可以下载线上最新版本的 Source Map 文件。<br><img src="https://img.fxss.work/article-163920586000050-production.png" alt="screenshot20211211145706.png" loading="lazy"></p><p>下载的 sourceMap 的目录和文件说明：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>1. `APP` 是主包，`FULL` 是整包（仅在不支持分包的低版本微信中使用），其他目录是分包。</span></span>\n<span class="line"><span>2. 每个分包下都有对应的 `app-service.js.map` 文件。</span></span>\n<span class="line"><span>3. 如果是使用了按需注入特性（`app.json`中配置了`lazyCodeLoading`），那么每个分包下还会有 `appservice.app.js.map`（对应分包下非页面的js），和所有页面的 `xxx.js.map`。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><p>查看错误信息，如果错误信息为<code>https://components/......</code>，则一般对应为主目录下<code>components</code>组件文件，并且后面标注的就是具体的<code>行号:列号</code>，如果错误信息结尾是<code>......app-service.js</code>，则一般为主包或者分包下的错误，找到发生错误对应的分包，选择分包的map文件。</p></li><li><p>打开下载的 sourceMap 中有个 wx 字段，标明了该 sourceMap 文件对应小程序版本号。</p></li></ol><figure><img src="https://img.fxss.work/article-163920668500054-production.png" alt="screenshot20211211151059.png" tabindex="0" loading="lazy"><figcaption>screenshot20211211151059.png</figcaption></figure><p>其中 userVersion 未上传是填的版本号， userNotes 为项目备注。</p><ol start="5"><li>下载 sourceMap 匹配调试器</li></ol><p>打开微信开发者工具，在菜单栏选择&quot;设置 -》通用设置 -》扩展 -》调试器插件&quot;，进入插件下载页面，添加sourcemap匹配调试插件。添加成功后，即可在调试器使用该插件。</p><figure><img src="https://img.fxss.work/article-163920694800035-production.png" alt="screenshot20211211151533.png" tabindex="0" loading="lazy"><figcaption>screenshot20211211151533.png</figcaption></figure><ol start="6"><li>打开对应的项目，切换到上个发布分支，从上个发布分支新开 hotfix 分支，打开 调试器 -》sourcemap</li></ol><figure><img src="https://img.fxss.work/article-163920713300031-production.png" alt="screenshot20211211151626.png" tabindex="0" loading="lazy"><figcaption>screenshot20211211151626.png</figcaption></figure><p>选择对应的 map 文件，第二个输入框填入对应的错误信息中的 行号:列号 ，点击匹配，可直接跳转到对应文件对应的行数。</p>',16)])])}const l=t(a,[["render",p]]),m=JSON.parse('{"path":"/mini/%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7%20Source%20Map%20%E7%9A%84%E4%BD%BF%E7%94%A8.html","title":"微信开发者工具 Source Map 的使用","lang":"zh-CN","frontmatter":{"title":"微信开发者工具 Source Map 的使用","shortTitle":"Source Map","isOriginal":true,"category":["小程序"],"tag":["Source Map"],"date":"2021-12-11T00:00:00.000Z","description":"在小程序后台 -》开发管理 -》运维中心 -》 错误日志 中可以看到小程序运行中的报错信息，但是代码都是压缩混淆的，那就需要如何去定位，下面说明说如使用微信开发者工具 Source Map。 下载微信开发者工具 微信开发者工具 下载sourceMap文件 在小程序后台 -》开发管理 -》运维中心 -》错误日志 可以下载线上最新版本的 Source Ma...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"微信开发者工具 Source Map 的使用\\",\\"image\\":[\\"https://img.fxss.work/article-163920586000050-production.png\\",\\"https://img.fxss.work/article-163920668500054-production.png\\",\\"https://img.fxss.work/article-163920694800035-production.png\\",\\"https://img.fxss.work/article-163920713300031-production.png\\"],\\"datePublished\\":\\"2021-12-11T00:00:00.000Z\\",\\"dateModified\\":\\"2022-11-12T14:37:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"fxss\\",\\"url\\":\\"https://github.com/fxss5201\\"}]}"],["meta",{"property":"og:url","content":"https://blog.fxss.work/fxss-blog/mini/%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7%20Source%20Map%20%E7%9A%84%E4%BD%BF%E7%94%A8.html"}],["meta",{"property":"og:site_name","content":"fxss 个人博客"}],["meta",{"property":"og:title","content":"微信开发者工具 Source Map 的使用"}],["meta",{"property":"og:description","content":"在小程序后台 -》开发管理 -》运维中心 -》 错误日志 中可以看到小程序运行中的报错信息，但是代码都是压缩混淆的，那就需要如何去定位，下面说明说如使用微信开发者工具 Source Map。 下载微信开发者工具 微信开发者工具 下载sourceMap文件 在小程序后台 -》开发管理 -》运维中心 -》错误日志 可以下载线上最新版本的 Source Ma..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img.fxss.work/article-163920586000050-production.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-11-12T14:37:06.000Z"}],["meta",{"property":"article:tag","content":"Source Map"}],["meta",{"property":"article:published_time","content":"2021-12-11T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-11-12T14:37:06.000Z"}]]},"git":{"createdTime":1668263826000,"updatedTime":1668263826000,"contributors":[{"name":"fxss","username":"fxss","email":"723107234@qq.com","commits":1,"url":"https://github.com/fxss"}]},"readingTime":{"minutes":1.91,"words":574},"filePathRelative":"mini/微信开发者工具 Source Map 的使用.md","excerpt":"<p>在小程序后台 -》开发管理 -》运维中心 -》 错误日志 中可以看到小程序运行中的报错信息，但是代码都是压缩混淆的，那就需要如何去定位，下面说明说如使用微信开发者工具 Source Map。</p>\\n<ol>\\n<li>下载微信开发者工具</li>\\n</ol>\\n<p><a href=\\"https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">微信开发者工具</a></p>\\n<ol start=\\"2\\">\\n<li>下载sourceMap文件</li>\\n</ol>","autoDesc":true}');export{l as comp,m as data};
